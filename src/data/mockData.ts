import type {
  User,
  Branch,
  Product,
  Category,
  Member,
  HeldTransaction,
  ApprovalRequest,
  AuditLog,
  Shift,
  KPIData,
  SalesTrend,
  BranchPerformance,
  RedFlag,
} from '@/types';

export const currentUser: User = {
  id: 'usr-001',
  name: 'Dewi Kusuma',
  email: 'dewi@apotek.com',
  role: 'superadmin',
  branchId: 'br-001',
  branchName: 'Apotek Sehat Pusat',
};

export const branches: Branch[] = [
  { id: 'br-001', name: 'Apotek Sehat Pusat', code: 'ASP', address: 'Jl. Sudirman No. 123' },
  { id: 'br-002', name: 'Apotek Sehat Cabang Timur', code: 'AST', address: 'Jl. Ahmad Yani No. 45' },
  { id: 'br-003', name: 'Apotek Sehat Cabang Barat', code: 'ASB', address: 'Jl. Gatot Subroto No. 78' },
];

export const categories: Category[] = [
  { id: 'cat-001', name: 'Obat Bebas' },
  { id: 'cat-002', name: 'Obat Keras' },
  { id: 'cat-003', name: 'Vitamin & Suplemen' },
  { id: 'cat-004', name: 'Alat Kesehatan' },
  { id: 'cat-005', name: 'Perawatan Tubuh' },
  { id: 'cat-006', name: 'Obat Herbal' },
];

export const products: Product[] = [
  {
    id: 'prd-001',
    sku: 'OB-001',
    name: 'Paracetamol 500mg',
    categoryId: 'cat-001',
    categoryName: 'Obat Bebas',
    unit: 'Strip',
    price: 8500,
    requiresPrescription: false,
    batches: [
      { id: 'bat-001', batchNumber: 'PCM-2024-001', expiryDate: '2026-06-15', quantity: 150, costPrice: 5000 },
      { id: 'bat-002', batchNumber: 'PCM-2024-002', expiryDate: '2025-03-20', quantity: 45, costPrice: 5200 },
    ],
  },
  {
    id: 'prd-002',
    sku: 'OB-002',
    name: 'Amoxicillin 500mg',
    categoryId: 'cat-002',
    categoryName: 'Obat Keras',
    unit: 'Strip',
    price: 15000,
    requiresPrescription: true,
    batches: [
      { id: 'bat-003', batchNumber: 'AMX-2024-001', expiryDate: '2025-12-01', quantity: 80, costPrice: 9000 },
    ],
  },
  {
    id: 'prd-003',
    sku: 'VS-001',
    name: 'Vitamin C 1000mg',
    categoryId: 'cat-003',
    categoryName: 'Vitamin & Suplemen',
    unit: 'Tube',
    price: 45000,
    requiresPrescription: false,
    batches: [
      { id: 'bat-004', batchNumber: 'VTC-2024-001', expiryDate: '2027-01-10', quantity: 200, costPrice: 28000 },
    ],
  },
  {
    id: 'prd-004',
    sku: 'AK-001',
    name: 'Masker Medis 3 Ply',
    categoryId: 'cat-004',
    categoryName: 'Alat Kesehatan',
    unit: 'Box',
    price: 35000,
    requiresPrescription: false,
    batches: [
      { id: 'bat-005', batchNumber: 'MSK-2024-001', expiryDate: '2028-05-20', quantity: 500, costPrice: 22000 },
    ],
  },
  {
    id: 'prd-005',
    sku: 'OB-003',
    name: 'Ibuprofen 400mg',
    categoryId: 'cat-001',
    categoryName: 'Obat Bebas',
    unit: 'Strip',
    price: 12000,
    requiresPrescription: false,
    batches: [
      { id: 'bat-006', batchNumber: 'IBU-2024-001', expiryDate: '2025-08-15', quantity: 120, costPrice: 7500 },
    ],
  },
  {
    id: 'prd-006',
    sku: 'VS-002',
    name: 'Multivitamin Dewasa',
    categoryId: 'cat-003',
    categoryName: 'Vitamin & Suplemen',
    unit: 'Botol',
    price: 125000,
    requiresPrescription: false,
    batches: [
      { id: 'bat-007', batchNumber: 'MVT-2024-001', expiryDate: '2026-11-30', quantity: 75, costPrice: 85000 },
    ],
  },
  {
    id: 'prd-007',
    sku: 'OB-004',
    name: 'Antasida Tablet',
    categoryId: 'cat-001',
    categoryName: 'Obat Bebas',
    unit: 'Strip',
    price: 9500,
    requiresPrescription: false,
    batches: [
      { id: 'bat-008', batchNumber: 'ANT-2024-001', expiryDate: '2025-04-10', quantity: 90, costPrice: 6000 },
    ],
  },
  {
    id: 'prd-008',
    sku: 'PT-001',
    name: 'Hand Sanitizer 500ml',
    categoryId: 'cat-005',
    categoryName: 'Perawatan Tubuh',
    unit: 'Botol',
    price: 28000,
    requiresPrescription: false,
    batches: [
      { id: 'bat-009', batchNumber: 'HSN-2024-001', expiryDate: '2026-09-25', quantity: 180, costPrice: 18000 },
    ],
  },
];

export const members: Member[] = [
  {
    id: 'mem-001',
    name: 'Budi Santoso',
    phone: '081234567890',
    email: 'budi@email.com',
    pointsBalance: 15000,
    tier: 'gold',
    joinDate: '2023-01-15',
  },
  {
    id: 'mem-002',
    name: 'Siti Rahayu',
    phone: '082345678901',
    email: 'siti@email.com',
    pointsBalance: 8500,
    tier: 'silver',
    joinDate: '2023-06-20',
  },
  {
    id: 'mem-003',
    name: 'Ahmad Hidayat',
    phone: '083456789012',
    pointsBalance: 2000,
    tier: 'bronze',
    joinDate: '2024-02-10',
  },
];

export const heldTransactions: HeldTransaction[] = [
  {
    id: 'hold-001',
    label: 'Pak Joko - Meja 2',
    items: [],
    createdAt: '2025-01-10T09:30:00',
    customerName: 'Pak Joko',
  },
  {
    id: 'hold-002',
    label: 'Ibu Sari - Tunggu resep',
    items: [],
    createdAt: '2025-01-10T10:15:00',
    customerName: 'Ibu Sari',
  },
];

export const approvalRequests: ApprovalRequest[] = [
  {
    id: 'apr-001',
    type: 'discount',
    requesterId: 'usr-001',
    requesterName: 'Dewi Kusuma',
    branchId: 'br-001',
    branchName: 'Apotek Sehat Pusat',
    transactionId: 'trx-001',
    amount: 50000,
    reason: 'Pelanggan loyal, pembelian di atas Rp 500.000',
    riskLevel: 'low',
    status: 'pending',
    createdAt: '2025-01-10T11:30:00',
    details: { originalTotal: 550000, discountPercent: 9.1 },
  },
  {
    id: 'apr-002',
    type: 'void',
    requesterId: 'usr-002',
    requesterName: 'Andi Pratama',
    branchId: 'br-002',
    branchName: 'Apotek Sehat Cabang Timur',
    transactionId: 'trx-015',
    amount: 125000,
    reason: 'Salah input produk, pelanggan membatalkan',
    riskLevel: 'medium',
    status: 'pending',
    createdAt: '2025-01-10T10:45:00',
    details: { items: 3, paymentMethod: 'cash' },
  },
  {
    id: 'apr-003',
    type: 'refund',
    requesterId: 'usr-001',
    requesterName: 'Dewi Kusuma',
    branchId: 'br-001',
    branchName: 'Apotek Sehat Pusat',
    transactionId: 'trx-008',
    amount: 85000,
    reason: 'Produk rusak dalam kemasan',
    riskLevel: 'low',
    status: 'pending',
    createdAt: '2025-01-10T09:20:00',
    details: { productName: 'Vitamin C 1000mg', quantity: 2 },
  },
  {
    id: 'apr-004',
    type: 'points_overlimit',
    requesterId: 'usr-003',
    requesterName: 'Maya Indah',
    branchId: 'br-003',
    branchName: 'Apotek Sehat Cabang Barat',
    amount: 75000,
    reason: 'Member platinum minta gunakan 50% poin',
    riskLevel: 'high',
    status: 'pending',
    createdAt: '2025-01-10T08:50:00',
    details: { memberName: 'Budi Santoso', requestedPoints: 75000, maxAllowed: 45000 },
  },
];

export const auditLogs: AuditLog[] = [
  {
    id: 'aud-001',
    userId: 'usr-001',
    userName: 'Dewi Kusuma',
    branchId: 'br-001',
    branchName: 'Apotek Sehat Pusat',
    action: 'CREATE',
    entity: 'transaction',
    entityId: 'trx-001',
    after: { invoiceNumber: 'INV-20250110-001', grandTotal: 125000 },
    ipAddress: '192.168.1.100',
    userAgent: 'Chrome/120.0',
    createdAt: '2025-01-10T09:15:00',
  },
  {
    id: 'aud-002',
    userId: 'usr-004',
    userName: 'Rini Manager',
    branchId: 'br-001',
    branchName: 'Apotek Sehat Pusat',
    action: 'APPROVE',
    entity: 'approval_request',
    entityId: 'apr-005',
    before: { status: 'pending' },
    after: { status: 'approved', reviewNotes: 'Disetujui sesuai kebijakan' },
    ipAddress: '192.168.1.101',
    userAgent: 'Firefox/121.0',
    createdAt: '2025-01-10T10:30:00',
  },
  {
    id: 'aud-003',
    userId: 'usr-002',
    userName: 'Andi Pratama',
    branchId: 'br-002',
    branchName: 'Apotek Sehat Cabang Timur',
    action: 'UPDATE',
    entity: 'product_price',
    entityId: 'prd-003',
    before: { price: 42000 },
    after: { price: 45000, reason: 'Penyesuaian harga supplier' },
    ipAddress: '192.168.2.50',
    userAgent: 'Chrome/120.0',
    createdAt: '2025-01-09T14:20:00',
  },
];

export const currentShift: Shift = {
  id: 'shf-001',
  cashierId: 'usr-001',
  cashierName: 'Dewi Kusuma',
  branchId: 'br-001',
  openingCash: 500000,
  status: 'open',
  openedAt: '2025-01-10T08:00:00',
  transactions: [],
};

export const kpiData: KPIData[] = [
  { label: 'Total Omzet', value: 'Rp 125.8M', change: 12.5, changeLabel: 'vs bulan lalu', trend: 'up' },
  { label: 'Transaksi', value: '3,842', change: 8.2, changeLabel: 'vs bulan lalu', trend: 'up' },
  { label: 'Rata-rata Ticket', value: 'Rp 32.7K', change: 4.1, changeLabel: 'vs bulan lalu', trend: 'up' },
  { label: 'Gross Margin', value: '28.4%', change: -1.2, changeLabel: 'vs bulan lalu', trend: 'down' },
];

export const salesTrends: SalesTrend[] = [
  { date: '2025-01-01', sales: 4250000, transactions: 128 },
  { date: '2025-01-02', sales: 3890000, transactions: 115 },
  { date: '2025-01-03', sales: 5120000, transactions: 156 },
  { date: '2025-01-04', sales: 4780000, transactions: 142 },
  { date: '2025-01-05', sales: 6250000, transactions: 189 },
  { date: '2025-01-06', sales: 5890000, transactions: 175 },
  { date: '2025-01-07', sales: 4120000, transactions: 124 },
  { date: '2025-01-08', sales: 5450000, transactions: 163 },
  { date: '2025-01-09', sales: 4980000, transactions: 148 },
  { date: '2025-01-10', sales: 3250000, transactions: 98 },
];

export const branchPerformance: BranchPerformance[] = [
  { branchId: 'br-001', branchName: 'Apotek Sehat Pusat', sales: 52500000, transactions: 1580, avgTicket: 33228 },
  { branchId: 'br-002', branchName: 'Apotek Sehat Cabang Timur', sales: 41200000, transactions: 1245, avgTicket: 33092 },
  { branchId: 'br-003', branchName: 'Apotek Sehat Cabang Barat', sales: 32100000, transactions: 1017, avgTicket: 31563 },
];

export const redFlags: RedFlag[] = [
  {
    id: 'rf-001',
    branchId: 'br-002',
    branchName: 'Apotek Sehat Cabang Timur',
    type: 'high_void',
    severity: 'high',
    description: 'Void rate 4.2% (threshold 2%)',
    value: 4.2,
    threshold: 2,
    createdAt: '2025-01-10T06:00:00',
  },
  {
    id: 'rf-002',
    branchId: 'br-003',
    branchName: 'Apotek Sehat Cabang Barat',
    type: 'stockout',
    severity: 'medium',
    description: '12 SKU stockout',
    value: 12,
    threshold: 5,
    createdAt: '2025-01-10T06:00:00',
  },
  {
    id: 'rf-003',
    branchId: 'br-001',
    branchName: 'Apotek Sehat Pusat',
    type: 'expired',
    severity: 'medium',
    description: '8 batch expired dalam 30 hari',
    value: 8,
    threshold: 3,
    createdAt: '2025-01-10T06:00:00',
  },
];
